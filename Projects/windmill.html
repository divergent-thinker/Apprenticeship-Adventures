---
layout: template_MAIN
title: Wonderous Wild Windy Windmill
---


  <div class="row">
    <div class="small-12 medium-6 large-12 columns">
      <div>
        <h3>Setup() and Code()</h3>
        <p>The <code>setup()</code> and <code>draw()</code> functions make it possible for the program to run continuously - this is required to create animation and interactive programs. The code inside <code>setup()</code> <em>runs once</em> when the program first starts, and the code inside <code>draw()</code> runs <em>continuously</em>.</p>

      </div>
    </div>
  </div>
  <!--introduction-->

  <div class="row">
    <div class="small-12 medium-6 large-6 columns">
      <div id="editor">

</div>
</div>
<!--End of code editor-->

    <div class="small-12 medium-6 large-6 columns">
      <canvas id='sketch'></canvas>
      <script type="text/javascript" src="../js/my_house.js" charset="utf-8">
      </script>
    </div>
  </div>
<!--End of canvas and drawing pad-->

 
  <div class="row">
    <div class="large-12 columns">
      <div class="panel">
      </div> 
    </div>
  </div>
 
   
  <script src="https://cdn.jsdelivr.net/ace/1.2.0/min/ace.js" type="text/javascript" charset="utf-8">
  </script>
  <script type="text/javascript">
  /* $ refers to JQuery. We can show this by using 
   * $ === jQuery which will evaluate to TRUE. 
   */
  $(function(){
    /* We're using JQuery (i.e. $) to ensure that we're  
     * only calling this function once the page is fully loaded. 
     * Ace is the library. We're calling the edit function of the 
     * ACE API to create a new Ace editor from the element on the 
     * page with an ID of "editor" which we keep as a string. So 
     * ace.edit is a function given to us by the ace API. This 
     * takes in an ID and turns the element of the ID into an ACE 
     * editor. As a return value it gives us an editor handle 
     * that we can call.
     */ 
    var editor = ace.edit("editor");

    /* In the next line, we're using this 'editor' handle. 
     * We're using the setTheme function and passing in as 
     * a string the name of the theme that we want to use. 
     */
    editor.setTheme("ace/theme/monokai");

    /* Here again, we're using the editor handle. This 
     * time we are using the function get.Session() and the 
     * method setMode of the session and passing in the mode that 
     * we want the editor to be set to. In this case 
     * Javascript, thus ensuring that we get the syntax
     * highlighting appropriate for Javascript.
     */

    // Equivalent to line below
    //var session = editor.getSession();
    //session.setMode("ace/mode/javascript");

    editor.getSession().setMode("ace/mode/javascript");

    /* Again, using the handle editor, we're using the 
     * function setOptions and passing in the max number of
     * lines. The editor method setOption would only allow you
     * pass in one argument. However setOptions takes in a Javascript
     * object with multiple option set, this is why we use curly 
     * braces as you could add more options here e.g. 
     * {maxLines: 80, minlines: 10, anotheroption: X}
     */
    editor.setOptions({maxLines: 80});

    /* Here we are creating a function, which we've called
     * handleError (to use as a handle later). Based on 
     * the jQuery documentation for jQuery.ajax, we need to 
     * pass in 3 arguments. If there is an error, an alert 
     * box will appear with these parameters concatenated 
     * inside of it. 
     */

    function handleError(jqXHR, textStatus, errorThrown){
      alert (textStatus + ' ' + errorThrown);
    }

    /* Here we are creating a function, which we've called 
     * handleSuccess (to use as a handle later). This function
     * will be executed if the jQuery.ajax() call works and 
     * these parameters will be displayed in the console. Next 
     * we use the the handle editor again. Because it is defined 
     * outside of the function, the code inside the function has
     * access to the handle. So, we can talk to the editor and say, 
     * call the method `setValue()` (this is a function on the editor 
     * that we can find in the docs) to data which can be whatever
     * we want. In this case we're setting the value of the editor 
     * to the data just received by the remote request. 
     *
     * `data` refers to the content of the file that we have called 
     * using ajax. 
     *
     * `textStatus` is the status, as a string, a description of the
     * status of the request. So in this case test status as shown
     * in the console can only be success, as if it failed the 
     * function would not be executed. 
     *
     * `jqXHR` is the request handle. It is the request object. This 
     * keeps all the information or the request and all the behaviour
     * of the request. 
     */

    function handleSuccess(data, textStatus, jqXHR){
      console.log (data, textStatus, jqXHR);
      editor.setValue(data);
    }

    /* Here we have jQuery, using the function ajax. We are passing 
    * in the url of the file that we want to request from the server 
    * (although here it's just a local file). Then we tell ajax, 
    * this is how you handle errors, this is how you handle successes.
    * using an options object as the second argument to the ajax() call! 
    * - hence the use of curly braces to denote the options object (see 
    * above). So we're inlining the options object (i.e. we're not creating
    * it as a separate variable).
    */

    $.ajax("../js/my_house.js", {
      error: handleError,
      success: handleSuccess
    });

  });
  </script> 


