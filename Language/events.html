---
layout: template_MAIN
title: Events and Listeners
---

<div class="row">
	<div class="small-12 medium-12 large-12 columns">
		<div id="insert">
		</div>
	</div>
</div>


<div class="row">
	<div class="small-12 medium-4 large-4 columns">
		<p>Event names in Javascript typically begin with 'on' e.g.
			<ul>
				<li>onload</li>
				<li>onclick</li>
				<li>onmouseover</li>
				<li>onblur</li>
				<li>onfocus</li>
			</ul>
		</p>

		<p>You don't write the event. You write the event <em>handler</em> or the 
			event <em>listener</em>. You write your function and you 
			volunteer to handle or to listen out for one or more events, 
			so that you can respond when they happen.
		</p>
		<p><code>myelement.onclick = function() {</br>
			//	your event handler code		</br>
			// i.e. whatever you want to	</br>
			// execute when they click that element	</br>
		};
		</code>
		</p>

	</div>

	<div class="small-12 medium-4 large-4 columns">
			<p>This is called an anonymous function. Normally we 
			give a function a name so that we can call it later. 
			We don't need to give this a name because we're 
			saying exactly when we're going to call it, 
			i.e. when they click myelement. It's called
			by the event rather than us. 
		</p>

		<p>Note that here we are using a ';' at the end of the function. 
			Normally functions do not have a ';' at the end. In this case 
			we're using it because the entire thing is a <em>statement</em>.
			We're saying <code>myelement.onclick = this function</code>. 
			This is why we need a semicolon, the same as var a = 5, 
			I put it at the end of myelement.onclick = function().
		</p>

	</div>

	<div class="small-12 medium-4 large-4 columns">
		<p>There is a third method of deciding to handle or register for an event. This has one huge advantage and a huge disadvantage. It's using a method called <code>addEventListener</code>, which you can either call directly on the document object or on any element that you have.</p>

		<p>You need to give it three pieces of information: </br>
			<code>document.addEventListener('click', myFunction, false);</code></br>
			<ol>
				<li>The event we're listening for (without the 'on' e.g. mouseover not onmouseover)</li>
				<li>then a comma, then the function you want to run</li>
				<li>then a comma, then the term 'false'.</li>
			</ol>
		This third false argument is an option for some very advanced event handling that's unusual to need. 
		</p>
	</div>
</div>


<div class="row">
	<div class="small-12 medium-4 large-4 columns">
		<p>The major <b>advantage</b> is using this way you can actually add a listener to multiple events. You can add one event and have multiple listeners. You have a lot of flexibility to dynamically add and use its mirror image to remove event listeners as your script is running. </p>
	</div>

	<div class="small-12 medium-4 large-4 columns">

		<p> The major <b>disadvantage</b> is the difference between browsers. Internet Explorer, before IE 9, does not have the addEventListener function. It has its equivalent, the <code>attachEvent</code> method. This takes two parameters - same principle; you have the event name itself and then the function. </p>
	</div>

	<div class="small-12 medium-4 large-4 columns">
		<p>If we use this, we'd need additional code to detect if the addEventlistener exists, if it doesn't we'd have to tell it to use the attachEvent function instead. The best and simplest way to to do this is to use a JQuery library. These provide excellent cross-browser functions for situations like this.</p>
	</div>
</div>

<div class="row">
	<div class="small-12 medium-4 large-4 columns">
		<h3>onClick and onLoad</h3>
		<p>You can just use the following template:</br>
			<code>myelement.onclick = function () {</br>
					alert ("You clicked me");</br>
				}
			</code>
		<b>It's good practice to put your script tag just before 
		the closing body tag in your html document. This is because it needs to elements 
		in your page to actually load before it can grab them. </b>
		However, putting your script tag at the end doesn't guarantee that your page and all its assets are loaded. It maybe that you reach and start runnning your JavaScript before all your CSS, images etc have been fetched from the server. 
		</p>

		<p>This is a very common problem. What we actually want to respond to is the 
			windown.onload event. The window represents the full browser window - this is the top level object in Javascript and contains the DOM. It's this that can 
			tell us when everything is loaded. </p>
	</div>

	<div class="small-12 medium-8 large-8 columns">
		<h3>onBlur and onFocus</h3>
		<p>This is very useful when creating forms. Often when you use a form it has text already in the field e.g. 'e-mail' so that you know the kind of information that it requires, but when you click into that field that text disappears (see example below). You need the onBlur event for making that text appear, and you need the onFocus event for making it disappear when the user clicks into the field.
		</p>
		<p>
			<label for="name">Name:</label>
			<input type = "text" name="name" id="name" tab index="10"/>
		</p>

		<p>
			<label for="email">Email:</label>
			<input type = "text" value="your email" id="email" tab index="20"/>
		</p>

		<p>In your HTML you may have the following code for example: </br>
		<code>
		<</code><code>input type="text" value="your email" name "email" id="email" 
		</br>
		tabindex="20"/>
		</code>
		</p>
		<p>Then in your JS file you'll need to grab hold of that element using it's id of "email" and write the following:
		</p>
		<div id="editor">

		</div>
		<p>If we wanted to write some code to ensure that the user filled in an actual email address we'd need to use something called <b>regular expressions</b>.
		</p>
	</div>
</div>



<div class="row">
	<div class="small-12 medium-12 large-12 columns">	
	<h2>References</h2>
	<p>The content of this page is in part based on the following references:</p>
	<ul>
		<li><a href="http://www.lynda.com/JavaScript-tutorials/What-DOM/81266/87536-4.html">Lynda Javascript tutorial</a></li>
	</ul>
</div>

<script type="text/javascript">
	{%include ace_errorSuccess.js %}
	
    $.ajax("../js/onBluronFocus.js", {
      error: handleError,
      success: handleSuccess
    });
  });
 </script> 

        <script type="text/javascript" src="../js/events_practice.js"></script>